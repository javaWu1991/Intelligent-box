<?xml version="1.0" encoding="UTF-8"?><!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd"><html xmlns="http://www.w3.org/1999/xhtml" lang="zh"><head><meta http-equiv="Content-Type" content="text/html;charset=UTF-8"/><link rel="stylesheet" href="../.resources/report.css" type="text/css"/><link rel="shortcut icon" href="../.resources/report.gif" type="image/gif"/><title>RandomNumUtil.java</title><link rel="stylesheet" href="../.resources/prettify.css" type="text/css"/><script type="text/javascript" src="../.resources/prettify.js"></script></head><body onload="window['PR_TAB_WIDTH']=4;prettyPrint()"><div class="breadcrumb" id="breadcrumb"><span class="info"><a href="../.sessions.html" class="el_session">Sessions</a></span><a href="../index.html" class="el_report">Intelligent-box Maven Webapp</a> &gt; <a href="index.source.html" class="el_package">cmcc.mobile.yiqi.utils</a> &gt; <span class="el_source">RandomNumUtil.java</span></div><h1>RandomNumUtil.java</h1><pre class="source lang-java linenums">package cmcc.mobile.yiqi.utils;

import java.util.Random;

<span class="nc" id="L5">public class RandomNumUtil {</span>
	 public static String genRandomNum(){
	        //35是因为数组是从0开始的，26个字母+10个数字
<span class="nc" id="L8">	        final int maxNum = 36;</span>
	        int i; //生成的随机数
<span class="nc" id="L10">	        int count = 0; //生成的密码的长度</span>
<span class="nc" id="L11">	        char[] str = { '0', '1', '2', '3', '4', '5', '6', '7', '8', '9' };</span>
<span class="nc" id="L12">	        StringBuffer pwd = new StringBuffer(&quot;&quot;);</span>
<span class="nc" id="L13">	        Random r = new Random();</span>
<span class="nc bnc" id="L14" title="All 2 branches missed.">	        while(count &lt; 19){</span>
	         //生成随机数，取绝对值，防止生成负数，
	       
<span class="nc" id="L17">	         i = Math.abs(r.nextInt(maxNum)); //生成的数最大为36-1</span>
	       
<span class="nc bnc" id="L19" title="All 4 branches missed.">	         if (i &gt;= 0 &amp;&amp; i &lt; str.length) {</span>
<span class="nc" id="L20">	          pwd.append(str[i]);</span>
<span class="nc" id="L21">	          count ++;</span>
	         }
	        }
<span class="nc" id="L24">	        String time = String.valueOf(System.currentTimeMillis()) ;</span>
<span class="nc" id="L25">	        return time+pwd.toString();</span>
	     }
	 public static String getStringRandom(){  
<span class="nc" id="L28">		 String val = &quot;&quot;;  </span>
<span class="nc" id="L29">	        Random random = new Random();  </span>
	          
	        //参数length，表示生成几位随机数  
<span class="nc bnc" id="L32" title="All 2 branches missed.">	        for(int i = 0; i &lt; 32; i++) {  </span>
	              
<span class="nc bnc" id="L34" title="All 2 branches missed.">	            String charOrNum = random.nextInt(2) % 2 == 0 ? &quot;char&quot; : &quot;num&quot;;  </span>
	            //输出字母还是数字  
<span class="nc bnc" id="L36" title="All 2 branches missed.">	            if( &quot;char&quot;.equalsIgnoreCase(charOrNum) ) {  </span>
	                //输出是大写字母还是小写字母  
<span class="nc bnc" id="L38" title="All 2 branches missed.">	                int temp = random.nextInt(2) % 2 == 0 ? 65 : 97;  </span>
<span class="nc" id="L39">	                val += (char)(random.nextInt(26) + temp);  </span>
<span class="nc bnc" id="L40" title="All 2 branches missed.">	            } else if( &quot;num&quot;.equalsIgnoreCase(charOrNum) ) {  </span>
<span class="nc" id="L41">	                val += String.valueOf(random.nextInt(10));  </span>
	            }  
	        }  
<span class="nc" id="L44">	        return val;  </span>
		}  
	  public static void main(String[] args) {
<span class="nc" id="L47">	      System.out.println(getStringRandom());</span>
	     
<span class="nc" id="L49">	    }  </span>
}
</pre><div class="footer"><span class="right">Created with <a href="http://www.eclemma.org/jacoco">JaCoCo</a> 0.7.5.201505241946</span></div></body></html>